webpackJsonp([17],{205:function(t,e,n){n(465);var a=n(47)(n(326),n(492),null,null);t.exports=a.exports},326:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tableData:[],currentRow:null,offset:0,limit:20,count:1,currentPage:1}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.ajax({mode:"get",url:"/role/list",data:"",success:function(e){t.tableData=e.data,t.count=t.tableData.length}})},add_user:function(){this.$router.push({name:"addRole"})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getList()},handleEdit:function(t,e){this.$router.push({name:"addRole",query:{id:e.id}})},handleDelete:function(t,e){var n=this;n.$confirm("此操作将删除该条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.ajax({mode:"delete",url:"/user/list",data:{id:e.id},success:function(e){n.tableData.splice(t,1)}})}).catch(function(){n.$message({type:"info",message:"已取消"})})}}}},354:function(t,e,n){e=t.exports=n(185)(!1),e.push([t.i,".add-btn,.table_container{padding:20px}.add-btn{padding-bottom:0}",""])},465:function(t,e,n){var a=n(354);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(186)("21cb41a7",a,!0)},492:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fillcontain"},[n("div",{staticClass:"add-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.add_user}},[t._v("添加角色")])],1),t._v(" "),n("div",{staticClass:"table_container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"user_name",label:"角色名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"resource",label:"资源权限"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.resource,function(e,a){return n("p",{key:a},[t._v(t._s("资源"+e.label))])})}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":20,layout:"total, prev, pager, next",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]}}});